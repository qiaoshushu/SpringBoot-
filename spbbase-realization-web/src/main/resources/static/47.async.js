(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[47],{uTjg:function(e,t,a){"use strict";var l=a("xK3H"),n=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fhlT");var d=l(a("kXZy"));a("wyr4");var r=l(a("NEb+"));a("VfWj");var o=l(a("Otdh"));a("Lzml");var m=l(a("vpm+"));a("/26P");var c=l(a("aYvq"));a("9TwZ");var s=l(a("wOVV"));a("mKhK");var i=l(a("iW5v"));a("/MhY");var u=l(a("w0+5"));a("Ktq0");var f=l(a("fL5V")),h=l(a("SeLb")),p=l(a("Sx57")),y=l(a("4zp0")),v=l(a("iVWQ")),C=l(a("lF+r")),k=l(a("PApH"));a("E2ON");var E=l(a("jjSt"));a("Q3sr");var w=l(a("9NP+"));a("XFd2");var g,S,b,x=l(a("33fr")),D=n(a("zLBQ")),A=a("LneV"),F=l(a("CkN6")),I=l(a("zHco")),N=l(a("zCgJ")),L=x.default.confirm,O=w.default.Item,R=E.default.Option,V=function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")},Y=["\u672a\u5904\u7406","\u6807\u8bb0\u6b63\u5e38","\u5220\u9664\u6570\u636e"],M=["\u4ea4\u53c9\u5bf9\u6bd4\u6709\u8bef","\u5386\u53f2\u6570\u636e\u6bd4\u5bf9\u6709\u8bef","\u6837\u672c\u4e24\u6b21\u7ed3\u679c\u4e0d\u4e00\u81f4"],j=(g=(0,A.connect)(function(e){var t=e.exce,a=e.loading;return{exce:t,loading:a.models.exce}}),S=w.default.create(),g(b=S(b=function(e){function t(){var e,a;(0,p.default)(this,t);for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];return a=(0,v.default)(this,(e=(0,C.default)(t)).call.apply(e,[this].concat(n))),a.state={visible:!1,confirmLoading:!1,expandForm:!1,selectedRows:[],formValues:{}},a.columns=[{title:"\u6848\u4f8b\u7f16\u53f7",dataIndex:"caseNumber",align:"center",render:function(e,t){return D.default.createElement(D.Fragment,null,D.default.createElement("a",{onClick:function(){return a.showModal()}},t.caseNumber))}},{title:"\u6bd4\u5bf9\u6837\u672c",dataIndex:"comparison",align:"center"},{title:"\u5386\u53f2\u6837\u672c",dataIndex:"historical",align:"center"},{title:"\u5f02\u5e38\u53d1\u751f\u65e5\u671f",dataIndex:"abnormalDate",align:"center"},{title:"\u5f02\u5e38\u8bf4\u660e",dataIndex:"exceptionDes",align:"center",render:function(e){var t="".concat(M[e]);return t}},{title:"\u5f02\u5e38\u72b6\u6001",dataIndex:"exceptionState",align:"center",render:function(e){var t="".concat(Y[e]);return t}}],a.handleStandardTableChange=function(e,t){var l=a.props.dispatch,n=a.state.formValues,d=Object.keys(t).reduce(function(e,a){var l=(0,h.default)({},e);return l[a]=V(t[a]),l},{}),r=(0,h.default)({currentPage:e.current,pageSize:e.pageSize},n,d);l({type:"exce/fetch",payload:r})},a.showModal=function(){a.setState({visible:!0})},a.showConfirm=function(){var e=a.props.dispatch,t=a.state.selectedRows,l="\u60a8\u5c06\u5220\u9664\u6848\u4f8b\u7f16\u53f7\u4e3a",n="\u7684\u6570\u636e\uff01",d=t.map(function(e){return e.caseNumber}),r=l+d+n;t&&L({title:"\u786e\u5b9a\u8981\u5220\u9664\u6570\u636e\u5417?",content:r,onOk:function(){e({type:"exce/remove",payload:{key:t.map(function(e){return e.key})}}),f.default.success("\u5220\u9664\u6210\u529f")},onCancel:function(){}})},a.handleUpdate=function(){var e=a.props.dispatch,t=a.state.selectedRows;t&&(e({type:"exce/update",payload:{key:t.map(function(e){return e.key}),exceptionState:"1"}}),f.default.success("\u4fee\u6539\u6210\u529f"),a.handleSearchs())},a.showConfirms=function(){var e=a.props.dispatch,t=a.state.selectedRows;if(t){var l="\u60a8\u5c06\u4fee\u6539\u6848\u4f8b\u7f16\u53f7\u4e3a   ",n="    \u7684\u6570\u636e\uff01",d=t.map(function(e){return e.caseNumber}),r=l+d+n;L({title:"\u786e\u5b9a\u8981\u4fee\u6539\u6570\u636e\u72b6\u6001\u5417?",content:r,onOk:function(){e({type:"exce/update",payload:{key:t.map(function(e){return e.key}),exceptionState:"1"}}),f.default.success("\u4fee\u6539\u6210\u529f")},onCancel:function(){}}),a.handleFormReset()}},a.handleOkVis=function(){a.setState({visible:!1,confirmLoading:!1})},a.handleCancel=function(){a.setState({visible:!1,confirmLoading:!1})},a.handleFormReset=function(){var e=a.props.form;e.resetFields(),a.setState({formValues:{}}),a.handleSearchs()},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleSearch=function(e){e.preventDefault();var t=a.props,l=t.dispatch,n=t.form;n.validateFields(function(e,t){if(!e){var n=(0,h.default)({},t,{abnormalDate:t.abnormalDate&&t.abnormalDate.format("YYYY-MM-DD")});a.setState({formValues:n}),l({type:"exce/fetch",payload:n})}})},a.handleSearchs=function(){var e=a.props,t=e.dispatch,l=e.form;l.validateFields(function(e,l){if(!e){var n=(0,h.default)({},l,{updatedAt:l.abnormalDate&&l.abnormalDate.format("YYYY-MM-DD")});a.setState({formValues:n}),t({type:"exce/fetch",payload:n})}})},a}return(0,k.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"exce/fetch"}),this.handleSearchs()}},{key:"renderAdvancedForm",value:function(){var e=this.props.form.getFieldDecorator;return D.default.createElement(w.default,{onSubmit:this.handleSearch,layout:"inline"},D.default.createElement(c.default,{gutter:{md:8,lg:24,xl:48}},D.default.createElement(i.default,{md:8,sm:24},D.default.createElement(O,{label:"\u6848\u4f8b\u7f16\u53f7"},e("caseNumber")(D.default.createElement(u.default,{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u6848\u4f8b\u7f16\u53f7"})))),D.default.createElement(i.default,{md:8,sm:24},D.default.createElement(O,{label:"\u5f02\u5e38\u53d1\u751f\u65e5\u671f"},e("abnormalDate")(D.default.createElement(s.default,{style:{width:"100%"},allowClear:!0,placeholder:"\u8bf7\u8f93\u5165\u5f02\u5e38\u53d1\u751f\u65e5\u671f",format:"YYYY-MM-DD"})))),D.default.createElement(i.default,{md:8,sm:24},D.default.createElement(O,{label:"\u5f02\u5e38\u8bf4\u660e"},e("exceptionDes")(D.default.createElement(E.default,{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},D.default.createElement(R,{value:"0"},"\u4ea4\u53c9\u6bd4\u5bf9\u6709\u8bef"),D.default.createElement(R,{value:"1"},"\u5386\u53f2\u6570\u636e\u6bd4\u5bf9\u6709\u8bef"),D.default.createElement(R,{value:"2"},"\u6837\u672c\u4e24\u6b21\u7ed3\u679c\u4e0d\u4e00\u81f4")))))),D.default.createElement(c.default,{gutter:{md:8,lg:24,xl:48}},D.default.createElement(i.default,{md:8,sm:24},D.default.createElement(O,{label:"\u5f02\u5e38\u72b6\u6001"},e("exceptionState",{initialValue:"0"})(D.default.createElement(E.default,{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},D.default.createElement(R,{value:"0"},"\u672a\u5904\u7406"),D.default.createElement(R,{value:"1"},"\u6807\u8bb0\u6b63\u5e38"),D.default.createElement(R,{value:"2"},"\u5220\u9664\u6570\u636e"))))),D.default.createElement(i.default,{md:16,sm:24},D.default.createElement("div",{style:{overflow:"hidden"}},D.default.createElement("div",{style:{float:"right",marginBottom:24}},D.default.createElement(m.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),D.default.createElement(m.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"))))))}},{key:"renderForm",value:function(){this.state.expandForm;return this.renderAdvancedForm()}},{key:"render",value:function(){var e=this.state,t=e.visible,a=e.confirmLoading,l=this.props,n=l.exce.data,c=l.loading,s=this.state.selectedRows,i=(D.default.createElement(o.default,{selectedKeys:[]},D.default.createElement(o.default.Item,{disabled:!0},"\u5220\u9664\u5b9e\u9a8c\u6570\u636e"),D.default.createElement(o.default.Item,{disabled:!0},"\u6807\u8bb0\u6b63\u5e38")),D.default.createElement(o.default,{selectedKeys:[]},D.default.createElement(o.default.Item,{onClick:this.showConfirm},"\u5220\u9664\u5b9e\u9a8c\u6570\u636e"),D.default.createElement(o.default.Item,{onClick:this.showConfirms},"\u6807\u8bb0\u6b63\u5e38")),[{key:1,name:"\u6837\u672c\u7f16\u53f7.",age:"Z201811080900F",address:"Z201811080900S",children:[{key:11,name:"\u59d3\u540d",age:"\u5f20\u4e09",address:"\u674e\u56db"},{key:12,name:"\u8eab\u4efd\u8bc1",age:"320322199901020025",address:"320322199901020026"},{key:13,name:"\u6027\u522b",age:"\u7537",address:"\u5973"}]}]),u=[{title:"\u5b9e\u9a8c\u6570\u636e",dataIndex:"name",key:"name",width:"30%"},{title:" ",dataIndex:"age",key:"age",width:"30%"},{title:" ",dataIndex:"address",width:"30%",key:"address"}],f=[];f.push({title:"  ",className:"Allele",dataIndex:"Allele",key:"Allele",width:150},{title:"D20180921734",dataIndex:"Commentf",className:"Commentf",key:"Commentf",width:150},{title:"D20180584758",dataIndex:"Comments",className:"Comments",key:"Comments",width:150});var h=[];return h.push({key:"0001",Allele:"vWA    B",Commentf:"16,16",Comments:"16,16"},{key:"0002",Allele:"D7S820  B",Commentf:"10,10",Comments:"16,16"},{key:"0003",Allele:"D7S820  C",Commentf:"10,10",Comments:"16,16"},{key:"0004",Allele:"D7S820  D",Commentf:"10,10",Comments:"16,16"},{key:"0005",Allele:"D7S820  E",Commentf:"10,10",Comments:"16,16"},{key:"0006",Allele:"D7S820  F",Commentf:"10,10",Comments:"16,16"},{key:"0007",Allele:"D7S820  G",Commentf:"10,10",Comments:"16,16"},{key:"0008",Allele:"D7S820  H",Commentf:"10,10",Comments:"16,16"},{key:"0009",Allele:"D7S820  I",Commentf:"10,10",Comments:"16,16"},{key:"00010",Allele:"D7S820  J",Commentf:"10,10",Comments:"16,16"},{key:"00011",Allele:"D7S820  K",Commentf:"10,10",Comments:"16,16"},{key:"00012",Allele:"D7S820  L",Commentf:"10,10",Comments:"16,16"},{key:"00013",Allele:"D7S820  N",Commentf:"10,10",Comments:"16,16"},{key:"00014",Allele:"D7S820  O",Commentf:"10,10",Comments:"16,16"},{key:"00015",Allele:"D7S820  P",Commentf:"10,10",Comments:"16,16"},{key:"00016",Allele:"D7S820  Q",Commentf:"10,10",Comments:"16,16"}),D.default.createElement(I.default,{title:"\u5f02\u5e38\u5904\u7406"},D.default.createElement(d.default,{bordered:!1},D.default.createElement("div",{className:N.default.tableList},D.default.createElement("div",{className:N.default.tableListForm},this.renderForm()),D.default.createElement("div",{className:N.default.tableListOperator},D.default.createElement(m.default,{onClick:this.showModal,type:"primary",disabled:1!==s.length},"\u67e5\u770b\u6570\u636e"),D.default.createElement(m.default,{onClick:this.showConfirm,type:"danger",disabled:0===s.length},"\u5220\u9664\u5b9e\u9a8c\u6570\u636e"),D.default.createElement(m.default,{onClick:this.showConfirms,disabled:0===s.length},"\u6807\u8bb0\u6b63\u5e38"),D.default.createElement(x.default,{width:"50%",title:"\u67e5\u770b\u6570\u636e",visible:t,onOk:this.handleOkVis,confirmLoading:a,onCancel:this.handleCancel},D.default.createElement(r.default,{columns:u,dataSource:i,align:"center",defaultExpandAllRows:!0,pagination:!1}),",",D.default.createElement(r.default,{columns:f,dataSource:h,bordered:!0,align:"center",pagination:!1,scroll:{y:200},showHeader:!0}))),D.default.createElement(F.default,{selectedRows:s,loading:c,data:n,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleSearch}))))}}]),t}(D.PureComponent))||b)||b),z=j;t.default=z}}]);