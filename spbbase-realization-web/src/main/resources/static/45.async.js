(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[45],{M00k:function(e,t,a){"use strict";var l=a("xK3H"),r=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("dnxz"));a("fhlT");var d=l(a("kXZy"));a("/26P");var u=l(a("aYvq"));a("Lzml");var i=l(a("vpm+"));a("9TwZ");var o=l(a("wOVV"));a("mKhK");var s=l(a("iW5v"));a("Ktq0");var c=l(a("fL5V")),f=l(a("SeLb")),m=l(a("Sx57")),p=l(a("4zp0")),h=l(a("iVWQ")),v=l(a("lF+r")),E=l(a("PApH"));a("XFd2");var g=l(a("33fr"));a("Jm7A");var y=l(a("F1Zk"));a("1pPU");var b=l(a("KjZ1"));a("/MhY");var w=l(a("w0+5"));a("Q3sr");var S=l(a("9NP+"));a("E2ON");var x,C,k,F=l(a("jjSt")),V=r(a("zLBQ")),D=a("LneV"),M=l(a("I9Uw")),R=l(a("CkN6")),I=l(a("zHco")),N=l(a("zCgJ")),O=F.default.Option,P=S.default.Item,Y=function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")},z=["\u5df2\u5b8c\u6210","\u672a\u5b8c\u6210"],A=[{id:"0",value:"22NC"},{id:"1",value:"AGCU_21+1"},{id:"2",value:"MR20"},{id:"3",value:"MR21"},{id:"4",value:"MR23SP"},{id:"5",value:"NC22plex"},{id:"6",value:"PP21"},{id:"7",value:"S20A(MR20)"},{id:"8",value:"SUBO21"},{id:"9",value:"global"}],J=["\u5f20\u4e09","\u674e\u56db","\u738b\u4e94","\u8d75\u516d","\u5468\u5148\u751f"],L=[];L.push(V.default.createElement(O,{value:"0",key:"J1"},"\u5f20\u4e09"),V.default.createElement(O,{value:"1",key:"J2"},"\u674e\u56db"),V.default.createElement(O,{value:"2",key:"J3"},"\u738b\u4e94"),V.default.createElement(O,{value:"3",key:"J4"},"\u8d75\u516d"),V.default.createElement(O,{value:"4",key:"J5"},"\u5468\u5148\u751f"));var j=S.default.create()(function(e){var t=e.modalVisible,a=e.form,l=e.handleAdd,r=e.handleModalVisible,n=function(){a.validateFields(function(e,t){e||(a.resetFields(),l(t))})};return V.default.createElement(g.default,{destroyOnClose:!0,title:"\u5bfc\u5165\u5b9e\u9a8c\u7ed3\u679c",visible:t,onOk:n,onCancel:function(){return r()}},V.default.createElement(P,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5b9e\u9a8c\u7f16\u53f7"},a.getFieldDecorator("id",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5b9e\u9a8c\u7f16\u53f7\uff01"}]})(V.default.createElement(w.default,{placeholder:"\u8bf7\u8f93\u5165\u5b9e\u9a8c\u7f16\u53f7"}))),V.default.createElement(P,{labelCol:{span:5},wrapperCol:{span:15},label:"\u8bd5\u5242\u540d\u79f0"},a.getFieldDecorator("reagent",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bd5\u5242\u540d\u79f0\uff01"}]})(V.default.createElement(F.default,{placeholder:"\u8bd5\u5242\u540d\u79f0",style:{maxWidth:290,width:"100%"}},A.map(function(e){return V.default.createElement(O,{key:e.id,value:e.id},e.value)})))),V.default.createElement(P,{labelCol:{span:5},wrapperCol:{span:15},label:"\u9274\u5b9a\u4eba"},a.getFieldDecorator("appraiser",{rules:[{required:!0,message:"\u6700\u591a\u9009\u62e92\u4eba\uff01"}]})(V.default.createElement(F.default,{mode:"multiple",style:{width:"100%"},placeholder:"\u591a\u9009\u6846"},L))),V.default.createElement(P,{labelCol:{span:5},wrapperCol:{span:15},label:"\u4e0a\u4f20\u6587\u4ef6"},a.getFieldDecorator("fileStatus",{rules:[{required:!1,message:"\u8bf7\u4e0a\u4f20\u6587\u4ef6\uff01"}]})(V.default.createElement(y.default,{listType:"picture-card",className:"avatar-uploader",accept:"application/zip",action:""},V.default.createElement(b.default,{type:"upload"})," \u6570\u636e\u4e0a\u4f20"))))}),q=(x=(0,D.connect)(function(e){var t=e.mana,a=e.loading;return{mana:t,loading:a.models.mana}}),C=S.default.create(),x(k=C(k=function(e){function t(){var e,a;(0,m.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,h.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(r))),a.state={modalVisible:!1,expandForm:!1,selectedRows:[],formValues:{}},a.columns=[{title:"\u5b9e\u9a8c\u7f16\u53f7",dataIndex:"id",align:"center"},{title:"\u5b9e\u9a8c\u65e5\u671f",dataIndex:"ExperDate",align:"center",render:function(e){return V.default.createElement("span",null,(0,M.default)(e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"\u8bd5\u5242\u540d\u79f0",dataIndex:"reagent",align:"center",render:function(e){var t=A.filter(function(t){return parseInt(t.id,10)===parseInt(e,10)});return t.length>0?t[0].value:e}},{title:"\u9274\u5b9a\u4eba",dataIndex:"appraiser",align:"center",render:function(e){for(var t="",a=",",l=0;l<e.length;l+=1){var r=e[l],n="".concat(J[r]);l<e.length-1?t+=n+a:t+=n}return t}},{title:"\u5b9e\u9a8c\u6570\u636e",align:"center",dataIndex:"experimental",render:function(){return V.default.createElement("a",{href:"#"},"\u4e0b\u8f7d")}},{title:"\u4e0a\u4f20\u72b6\u6001",dataIndex:"fileStatus",align:"center",render:function(e){var t="".concat(z[e]);return t}}],a.handleStandardTableChange=function(e,t){var l=a.props.dispatch,r=a.state.formValues,n=Object.keys(t).reduce(function(e,a){var l=(0,f.default)({},e);return l[a]=Y(t[a]),l},{}),d=(0,f.default)({currentPage:e.current,pageSize:e.pageSize},r,n);l({type:"mana/fetch",payload:d})},a.handleFormReset=function(){var e=a.props,t=e.form,l=e.dispatch;t.resetFields(),a.setState({formValues:{}}),l({type:"mana/fetch",payload:{}})},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleSearch=function(e){e.preventDefault();var t=a.props,l=t.dispatch,r=t.form;r.validateFields(function(e,t){if(!e){var r=(0,f.default)({},t,{ExperDate:t.ExperDate&&t.ExperDate.format("YYYY-MM-DD")});a.setState({formValues:r}),l({type:"mana/fetch",payload:r})}})},a.handleAdd=function(e){var t=a.props.dispatch;t({type:"mana/add",payload:{id:e.id,reagent:e.reagent,appraiser:e.appraiser,experimental:e.experimental,fileStatus:e.fileStatus}}),c.default.success("\u6dfb\u52a0\u6210\u529f"),a.handleModalVisible()},a}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"mana/fetch"})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return V.default.createElement(S.default,{onSubmit:this.handleSearch,layout:"inline"},V.default.createElement(u.default,{gutter:{md:8,lg:24,xl:48}},V.default.createElement(s.default,{md:8,sm:24},V.default.createElement(P,{label:"\u5b9e\u9a8c\u7f16\u53f7"},e("id")(V.default.createElement(w.default,{placeholder:"\u8bf7\u8f93\u5165\u5b9e\u9a8c\u7f16\u53f7"})))),V.default.createElement(s.default,{md:8,sm:24},V.default.createElement(P,{label:"\u5b9e\u9a8c\u65e5\u671f"},e("ExperDate")(V.default.createElement(o.default,{onChange:this.onChange,style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u5b9e\u9a8c\u65e5\u671f"})))),V.default.createElement(s.default,{md:8,sm:24},V.default.createElement("span",{className:N.default.submitButtons},V.default.createElement(i.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),V.default.createElement(i.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"renderForm",value:function(){this.state.expandForm;return this.renderSimpleForm()}},{key:"render",value:function(){var e=this,t=this.props,a=t.mana.data,l=t.loading,r=this.state,u=r.selectedRows,o=r.modalVisible,s={handleAdd:this.handleAdd,handleDelete:this.handleDelete,handleModalVisible:this.handleModalVisible};return V.default.createElement(I.default,{title:"\u5b9e\u9a8c\u7ba1\u7406"},V.default.createElement(d.default,{bordered:!1},V.default.createElement("div",{className:N.default.tableList},V.default.createElement("div",{className:N.default.tableListForm},this.renderForm()),V.default.createElement("div",{className:N.default.tableListOperator},V.default.createElement(i.default,{type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"\u5bfc\u5165\u5b9e\u9a8c\u7ed3\u679c")),V.default.createElement(R.default,{selectedRows:u,loading:l,data:a,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.componentDidMount}))),V.default.createElement(j,(0,n.default)({},s,{modalVisible:o})))}}]),t}(V.PureComponent))||k)||k),H=q;t.default=H}}]);