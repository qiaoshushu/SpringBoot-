(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[44],{ttam:function(e,t,a){"use strict";var l=a("xK3H"),r=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fhlT");var n=l(a("kXZy"));a("/26P");var d=l(a("aYvq"));a("mKhK");var i=l(a("iW5v"));a("Ktq0");l(a("fL5V")),l(a("SeLb"));a("1pPU");var o=l(a("KjZ1")),u=l(a("9bEj")),c=l(a("Sx57")),f=l(a("4zp0")),s=l(a("iVWQ")),m=l(a("lF+r")),p=l(a("PApH"));a("Q3sr");var v=l(a("9NP+"));a("Z2z2");var E=l(a("kI2X"));a("w4nt");var y=l(a("3oEu"));a("E2ON");var h=l(a("jjSt"));a("SwZr");var g,I,b,S=l(a("AUq8")),P=r(a("zLBQ")),k=(l(a("zZ0I")),l(a("Ipho")),a("LneV")),w=l(a("I9Uw")),C=l(a("r27q")),N=(l(a("WnAZ")),l(a("zHco"))),O=l(a("Pgjk")),M=l(a("0DUO")),V=l(a("Snlf")),A=l(a("0XPx")),F=l(a("zlwF")),j=l(a("o61a")),B=l(a("OSJ7")),D=l(a("/AFL")),T=l(a("+kNj")),x=T.default.Description,L=S.default.Step,z=h.default.Option,q=y.default.TabPane,Y=["\u4eb2\u5b50\u9274\u5b9a","\u6587\u4e66\u9274\u5b9a","\u9152\u7cbe\u9274\u5b9a","\u8f66\u8f86\u75d5\u8ff9\u9274\u5b9a","\u6cd5\u533b\u4e34\u5e8a\u9274\u5b9a","\u6cd5\u533b\u75c5\u7406\u9274\u5b9a"],Z=["\u5df2\u767b\u8bb0","\u5f85\u5ba1\u6838 ","\u5ba1\u6838\u4e0d\u901a\u8fc7","\u5ba1\u6838\u901a\u8fc7","\u6837\u672c\u4ea4\u63a5\u786e\u8ba4","\u6837\u672c\u4ea4\u63a5\u9000\u56de","\u5b9e\u9a8c\u4e2d","\u62a5\u544a\u6253\u5370\u4e2d","\u62a5\u544a\u786e\u8ba4","\u90ae\u5bc4\u4e2d","\u5df2\u5f52\u6863","\u5df2\u7b7e\u53d1","\u7b7e\u53d1\u6210\u529f"],J=["\u4e2a\u4eba","\u5355\u4f4d"],K=["\u662f","\u5426"],U=["\u90ae\u5bc4","\u81ea\u53d6","\u9001\u8fbe"],Q=["\u51ed\u5408\u540c\u526f\u672c","\u7968\u636e","\u8eab\u4efd\u8bc1"],H=[];H.push(P.default.createElement(z,{value:"\u75c5\u9274\u5b57",key:"bing1"},"\u75c5\u9274\u5b57"),P.default.createElement(z,{value:"\u75d5\u9274\u5b57",key:"heng1"},"\u75d5\u9274\u5b57"),P.default.createElement(z,{value:"\u6bd2\u9274\u5b57",key:"du1"},"\u6bd2\u9274\u5b57"),P.default.createElement(z,{value:"\u4e34\u9274\u5b57",key:"bing1"},"\u4e34\u9274\u5b57"),P.default.createElement(z,{value:"\u6587\u9274\u5b57",key:"wen1"},"\u6587\u9274\u5b57"));var W=function(e,t){var a=t.status;return"process"===a?P.default.createElement(E.default,{placement:"topLeft",arrowPointAtCenter:!0},e):e},X=(g=(0,k.connect)(function(e){var t=e.casedemo,a=e.caseform,l=e.loading;return{casedemo:t,caseform:a,loading:l.models.casedemo}}),I=v.default.create(),g(b=I(b=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,s.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(r))),a.state={width:"100%",persons:!1,vehicle:!1,matter:!1,readOnlyState:!0,stepDirection:"horizontal"},a.onTabChange=function(e,t){a.setState((0,u.default)({},t,e))},a.getErrorInfo=function(){var e=a.props.form.getFieldsError,t=e(),l=Object.keys(t).filter(function(e){return t[e]}).length;if(!t||0===l)return null;var r=function(e){var t=document.querySelector('label[for="'.concat(e,'"]'));t&&t.scrollIntoView(!0)},n=Object.keys(t).map(function(e){return t[e]?P.default.createElement("li",{key:e,className:O.default.errorListItem,onClick:function(){return r(e)}},P.default.createElement(o.default,{type:"cross-circle-o",className:O.default.errorIcon}),P.default.createElement("div",{className:O.default.errorMessage},t[e][0]),P.default.createElement("div",{className:O.default.errorField},fieldLabels[e])):null});return P.default.createElement("span",{className:O.default.errorIcon},P.default.createElement(E.default,{title:"\u8868\u5355\u6821\u9a8c\u4fe1\u606f",content:n,overlayClassName:O.default.errorPopover,trigger:"click",getPopupContainer:function(e){return e.parentNode}},P.default.createElement(o.default,{type:"exclamation-circle"})),l)},a.resizeFooterToolbar=function(){requestAnimationFrame(function(){var e=document.querySelectorAll(".ant-layout-sider")[0];if(e){var t="calc(100% - ".concat(e.style.width,")"),l=a.state.width;l!==t&&a.setState({width:t})}})},a.validate=function(){var e=a.props,t=e.form.validateFieldsAndScroll,l=e.dispatch;t(function(e,t){e||new Promise(function(e,a){l({type:"caseform/add",payload:{formVal:t,resolve:e,reject:a}})}).then(function(e){!0===e&&C.default.push({pathname:"/case/list"})})})},a.validateTemporary=function(){var e=a.props,t=e.form,l=t.validateFieldsAndScroll,r=t.getFieldsValue,n=e.dispatch;l(["caseCategoryId"],function(e){var t=r();e||new Promise(function(e,a){n({type:"caseform/add",payload:{formVal:t,resolve:e,reject:a}})}).then(function(e){!0===e&&C.default.push({pathname:"/case/list"})})})},a.handleChange=function(e){var t=Y.filter(function(t){return parseInt(t.id,10)===parseInt(e,10)});a.setState({caseCateName:t.length>0?t[0].value:e});var l=a.props.dispatch;l({type:"caseform/fetchEntrust",payload:{caseCategoryId:e}}),l({type:"caseform/queryCharging",payload:{caseCategoryId:parseInt(e,10)}})},a}return(0,p.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=this;e({type:"caseform/fetchEntrust"}),e({type:"caseform/queryCharging"}),new Promise(function(a,l){e({type:"caseform/caseGetId",payload:{ids:t.props.location.state.id,resolve:a,reject:l}})}).then(function(t){if(t.caseMaterial.length>0){for(var a=[],l=0;l<t.caseMaterial.length;l+=1)null!==t.caseMaterial[l].attachmentId&&a.push(t.caseMaterial[l].attachmentId);a.length>0&&e({type:"caseform/fetchAttachMent",payload:a})}})}},{key:"render",value:function(){var e=this.props,t=e.form,a=t.getFieldDecorator,l=(t.getFieldValue,t.getFieldsValue),r=(e.submitting,e.caseform),o=r.dataEntrust,u=r.dataCharging,c=r.caseGetIds,f=r.attachmentList,s=this.state,m=s.persons,p=s.vehicle,v=s.matter,E=s.readOnlyState,h=s.stepDirection,g=l(),I=void 0!==c?c.caseSample:[],b=void 0!==c?c.identifiedPerson:[],k=void 0!==c?c.sample:[];if(I.length>0)for(var C=function(e){var t=I.filter(function(t){return t.sampleId===k[e].id}),a=b.filter(function(t){return t.idNumber===k[e].idNumber});k[e].appellation=t[0].appellation,k[e].key=e,k[e].sex=a[0].sex},z=0;z<I.length;z+=1)C(z);var H=null,X=[];H=void 0===c?g.caseCategoryId:c.caseCategoryId,this.setState({persons:0===parseInt(H,10)||2===parseInt(H,10)||3===parseInt(H,10)||4===parseInt(H,10)||5===parseInt(H,10)}),this.setState({vehicle:3===parseInt(H,10)||5===parseInt(H,10)}),this.setState({matter:1===parseInt(H,10)||5===parseInt(H,10)}),m&&(parseInt(H,10)===parseInt(0,10)?X.push(P.default.createElement(q,{tab:"\u4eba",key:"1"},a("identifiedPerson",{initialValue:void 0!==c?c.identifiedPerson:[]})(P.default.createElement(V.default,{onChange:function(e,t,a){handlePIdent(e,t,a)},readOnlyState:E})))):X.push(P.default.createElement(q,{tab:"\u4eba",key:"1"},a("identifiedPerson",{initialValue:void 0!==c?c.identifiedPerson:[]})(P.default.createElement(V.default,{readOnlyState:E}))))),p&&X.push(P.default.createElement(q,{tab:"\u8f66",key:"2"},a("identifiedCar",{initialValue:void 0!==c?c.identifiedCar:[]})(P.default.createElement(F.default,{readOnlyState:E})))),v&&X.push(P.default.createElement(q,{tab:"\u7269",key:"3"},a("identifiedObject",{initialValue:void 0!==c?c.identifiedObject:[]})(P.default.createElement(A.default,{readOnlyState:E}))));var G=P.default.createElement(T.default,{className:O.default.headerList,size:"small",col:"2"},P.default.createElement(x,{term:"\u59d4\u6258\u4eba"},void 0!==c?c.clientName:""),P.default.createElement(x,{term:"\u59d4\u6258\u4eba\u7535\u8bdd"},void 0!==c?c.clientPhone:""),P.default.createElement(x,{term:"\u662f\u5426\u56de\u907f"},void 0!==c?K[c.needEvade]:""),P.default.createElement(x,{term:"\u662f\u5426\u52a0\u6025"},void 0!==c?K[c.urgent]:""),P.default.createElement(x,{term:"\u59d4\u6258\u5355\u4f4d"},void 0!==c?c.clientDept:""),P.default.createElement(x,{term:"\u8054\u7cfb\u4eba\u5730\u5740"},void 0!==c?c.clientAddress:"")),_=P.default.createElement(d.default,null,P.default.createElement(i.default,{xs:24,sm:12},P.default.createElement("div",{className:O.default.textSecondary},"\u72b6\u6001"),P.default.createElement("div",{className:O.default.heading},void 0!==c?Z[c.status]:"")),P.default.createElement(i.default,{xs:24,sm:12},P.default.createElement("div",{className:O.default.textSecondary},"\u8ba2\u5355\u91d1\u989d"),P.default.createElement("div",{className:O.default.heading},"\xa5\xa0 ",void 0!==c?c.totalPrice:""))),R=void 0!==c?c.entrustDate:"",$=void 0!==c?c.acceptDate:"",ee=void 0!==c?c.reportProvidedType:"",te=void 0!==c?c.status:"",ae=parseInt(te,10),le=0;return 0!==ae&&1!==ae&&2!==ae||(le=parseInt(0,10)),ae>2&&ae<7&&(le=parseInt(1,10)),ae>6&&ae<9&&(le=parseInt(2,10)),9===ae&&(le=parseInt(3,10)),ae>9&&(le=parseInt(4,10)),P.default.createElement(N.default,{title:"\u6848\u4f8b\u7f16\u53f7\uff1a".concat(void 0!==c?c.caseNo:""),logo:P.default.createElement("img",{alt:"",src:"https://gw.alipayobjects.com/zos/rmsportal/nxkuOJlFJuAUhzlMTCEe.png"}),content:G,extraContent:_,tabList:X},P.default.createElement(n.default,{title:"\u6d41\u7a0b\u8fdb\u5ea6",style:{marginBottom:24},bordered:!1},P.default.createElement(S.default,{direction:h,progressDot:W,current:le},P.default.createElement(L,{title:"\u6848\u4f8b\u767b\u8bb0"}),P.default.createElement(L,{title:"\u5b9e\u9a8c\u4e2d"}),P.default.createElement(L,{title:"\u51fa\u62a5\u544a"}),P.default.createElement(L,{title:"\u90ae\u5bc4"}),P.default.createElement(L,{title:"\u5b8c\u6210"}))),P.default.createElement(n.default,{title:"\u9274\u5b9a\u4fe1\u606f",style:{marginBottom:24},bordered:!1},P.default.createElement(T.default,{style:{marginBottom:24}},P.default.createElement(x,{term:"\u6848\u4ef6\u7f16\u53f7"},void 0!==c?c.caseNo:""),P.default.createElement(x,{term:"\u4e13\u4e1a\u7c7b\u522b"},void 0!==c?Y[c.caseCategoryId]:""),P.default.createElement(x,{term:"\u6848\u4ef6\u6807\u5fd7"},void 0!==c?c.caseSign:""," "),P.default.createElement(x,{term:"\u59d4\u6258\u65f6\u95f4"},void 0!==c?(0,w.default)(R).format("YYYY-MM-DD"):""),P.default.createElement(x,{term:"\u53d7\u7406\u65f6\u95f4"},void 0!==c?(0,w.default)($).format("YYYY-MM-DD"):""),P.default.createElement(x,{term:"\u843d\u6848\u65f6\u95f4"},void 0!==c?c.deadline:""," \u4e2a\u5de5\u4f5c\u65e5"))),P.default.createElement(n.default,{title:"\u59d4\u6258\u4fe1\u606f",style:{marginBottom:24},bordered:!1},P.default.createElement(T.default,{style:{marginBottom:24}},P.default.createElement(x,{term:"\u59d4\u6258\u4eba"},void 0!==c?c.clientName:""),P.default.createElement(x,{term:"\u59d4\u6258\u4eba\u7535\u8bdd"},void 0!==c?c.clientPhone:""),P.default.createElement(x,{term:"\u59d4\u6258\u5355\u4f4d"},void 0!==c?c.clientDept:"\u65e0"),P.default.createElement(x,{term:"\u59d4\u6258\u65b9\u7c7b\u578b"},void 0!==c?J[c.clientType]:""),P.default.createElement(x,{term:"\u65e2\u5f80\u9274\u5b9a\u53f2"},void 0!==c?K[c.identifiedBefore]:""),P.default.createElement(x,{term:"\u662f\u5426\u56de\u907f"},void 0!==c?K[c.needEvade]:""),P.default.createElement(x,{term:"\u662f\u5426\u52a0\u6025"},void 0!==c?K[c.urgent]:""),P.default.createElement(x,{term:"\u6750\u6599\u9f50\u5168"},void 0!==c?K[c.materialsCompleted]:""),P.default.createElement(x,{term:"\u8054\u7cfb\u4eba\u5730\u5740"},void 0!==c?c.clientAddress:"")),function(){var e=void 0!==c?parseInt(c.caseCategoryId,10):"";switch(e){case 0:return null;default:return P.default.createElement(T.default,{style:{marginBottom:24}},P.default.createElement(x,{term:"\u68c0\u6848\u6458\u8981"},void 0!==c?c.caseSummary:""))}}(),P.default.createElement(T.default,{style:{marginBottom:24}},P.default.createElement(x,{term:"\u5907\u6ce8"},void 0!==c?c.remark:""))),P.default.createElement(n.default,{title:"\u62a5\u544a\u56de\u5bc4\u5730\u5740",style:{marginBottom:24},bordered:!1},P.default.createElement(T.default,{style:{marginBottom:24}},P.default.createElement(x,{term:"\u53d1\u653e\u65b9\u5f0f"},void 0!==c?U[c.reportProvidedType]:"")),function(){switch(ee){case 0:return P.default.createElement(T.default,{style:{marginBottom:24}},P.default.createElement(x,{term:"\u6536\u4ef6\u4eba"},void 0!==c?c.recipientName:""),P.default.createElement(x,{term:"\u7535\u8bdd\u53f7\u7801"},void 0!==c?c.recipientPhone:""),P.default.createElement(x,{term:"\u90ae\u5bc4\u5730\u5740"},void 0!==c?c.recipientAddress:""));case 1:return P.default.createElement(T.default,{style:{marginBottom:24}},P.default.createElement(x,{term:"\u81ea\u53d6\u65b9\u5f0f"},void 0!==c?Q[c.certTypeForTook]:""),function(){var e=void 0!==c?c.certTypeForTook:"";switch(e){case 2:return P.default.createElement(T.default,{style:{marginBottom:24}},P.default.createElement(x,{term:"\u8eab\u4efd\u8bc1\u53f7"},void 0!==c?c.certIdentify:""));default:return null}}());case 2:return P.default.createElement(T.default,{style:{marginBottom:24}},P.default.createElement(x,{term:"\u6536\u4ef6\u4eba"},void 0!==c?c.recipientName:""),P.default.createElement(x,{term:"\u7535\u8bdd\u53f7\u7801"},void 0!==c?c.recipientPhone:""),P.default.createElement(x,{term:"\u90ae\u5bc4\u5730\u5740"},void 0!==c?c.recipientAddress:""));default:return null}}()),P.default.createElement(n.default,{title:"\u59d4\u6258\u4e8b\u9879",bordered:!1},a("identificationMatter",{initialValue:void 0!==c?c.identificationMatter:[]})(P.default.createElement(M.default,{readOnlyState:E,opts:o.list}))),(m||p||v)&&P.default.createElement(n.default,{style:{width:"100%"},title:"\u88ab\u9274\u5b9a\u5bf9\u8c61"},P.default.createElement(y.default,null,X)),function(){var e=void 0!==c?c.caseCategoryId:"";switch(parseInt(e,10)){case 0:return P.default.createElement(n.default,{title:"\u6837\u672c\u4fe1\u606f",bordered:!1},a("caseSample",{initialValue:void 0!==c?c.sample:[]})(P.default.createElement(B.default,{readOnlyState:E})));default:return null}}(),P.default.createElement(n.default,{title:"\u9274\u5b9a\u6750\u6599",bordered:!1},a("caseMaterial",{initialValue:void 0!==c?c.caseMaterial:[]})(P.default.createElement(D.default,{readOnlyState:E,attachmentList:f}))),P.default.createElement(n.default,{title:"\u6536\u8d39\u8bf4\u660e",bordered:!1},a("caseCharging",{initialValue:void 0!==c?c.caseCharging:[]})(P.default.createElement(j.default,{readOnlyState:E,charOpts:u.list}))))}}]),t}(P.PureComponent))||b)||b),G=X;t.default=G}}]);