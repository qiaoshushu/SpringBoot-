(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[46],{"/gtS":function(e,t,a){"use strict";var l=a("3rQ3"),n=a("xK3H");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("wyr4");var r=n(a("NEb+")),d=n(a("dnxz"));a("9j1q");var o=n(a("sLBh")),u=n(a("+S5U")),c=n(a("Sx57")),s=n(a("4zp0")),m=n(a("iVWQ")),f=n(a("lF+r")),i=n(a("PApH")),p=n(a("SeLb")),h=l(a("zLBQ")),y=n(a("rZM1"));function v(e){var t=[];return e.forEach(function(e){e.needTotal&&t.push((0,p.default)({},e,{total:0}))}),t}var E=function(e){function t(e){var a;(0,c.default)(this,t),a=(0,m.default)(this,(0,f.default)(t).call(this,e)),a.handleRowSelectChange=function(e,t){var l=a.state.needTotalList;l=l.map(function(e){return(0,p.default)({},e,{total:t.reduce(function(t,a){return t+parseFloat(a[e.dataIndex],10)},0)})});var n=a.props.onSelectRow;n&&n(t),a.setState({selectedRowKeys:e,needTotalList:l})},a.handleTableChange=function(e,t,l){var n=a.props.onChange;n&&n(e,t,l)},a.cleanSelectedKeys=function(){a.handleRowSelectChange([],[])};var l=e.columns,n=v(l);return a.state={selectedRowKeys:[],needTotalList:n},a}return(0,i.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.state,t=e.selectedRowKeys,a=e.needTotalList,l=this.props,n=l.data,c=n.list,s=n.pagination,m=l.rowKey,f=(0,u.default)(l,["data","rowKey"]),i=(0,p.default)({showSizeChanger:!0,showQuickJumper:!0},s),v={selectedRowKeys:t,onChange:this.handleRowSelectChange,getCheckboxProps:function(e){return{disabled:e.disabled}}};return h.default.createElement("div",{className:y.default.standardTable},h.default.createElement("div",{className:y.default.tableAlert},h.default.createElement(o.default,{message:h.default.createElement(h.Fragment,null,"\u5df2\u9009\u62e9 ",h.default.createElement("a",{style:{fontWeight:600}},t.length)," \u9879\xa0\xa0",a.map(function(e){return h.default.createElement("span",{style:{marginLeft:8},key:e.dataIndex},e.title,"\u603b\u8ba1\xa0",h.default.createElement("span",{style:{fontWeight:600}},e.render?e.render(e.total):e.total))}),h.default.createElement("a",{onClick:this.cleanSelectedKeys,style:{marginLeft:24}},"\u6e05\u7a7a")),type:"info",showIcon:!0})),h.default.createElement(r.default,(0,d.default)({rowKey:m||"key",rowSelection:v,dataSource:c,pagination:i,onChange:this.handleTableChange},f)))}}],[{key:"getDerivedStateFromProps",value:function(e){if(0===e.selectedRows.length){var t=v(e.columns);return{selectedRowKeys:[],needTotalList:t}}return null}}]),t}(h.PureComponent),C=E;t.default=C},ZVS2:function(e,t,a){"use strict";var l=a("xK3H"),n=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fhlT");var r=l(a("kXZy"));a("wyr4");var d=l(a("NEb+"));a("/26P");var o=l(a("aYvq"));a("1pPU");var u=l(a("KjZ1"));a("Lzml");var c=l(a("vpm+"));a("mKhK");var s=l(a("iW5v"));a("/MhY");var m=l(a("w0+5"));a("Ktq0");var f=l(a("fL5V")),i=l(a("SeLb")),p=l(a("Sx57")),h=l(a("4zp0")),y=l(a("iVWQ")),v=l(a("lF+r")),E=l(a("PApH"));a("E2ON");var C=l(a("jjSt"));a("Q3sr");var g=l(a("9NP+"));a("XFd2");var S,k,w,b=l(a("33fr")),x=n(a("zLBQ")),D=a("LneV"),A=l(a("/gtS")),F=l(a("zHco")),L=l(a("zCgJ")),R=b.default.confirm,K=g.default.Item,I=C.default.Option,N=function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")},O=["\u672a\u4e0a\u4f20","\u5df2\u4e0a\u4f20","\u90e8\u5206\u4e0a\u4f20"],T=["\u80af\u5b9a","\u5426\u5b9a","\u9700\u52a0\u4f4d\u70b9","\u68c0\u6d4b\u4e0d\u51fa\u7ed3\u679c"],P=["\u5df2\u786e\u8ba4","\u5f85\u786e\u8ba4"],z=(S=(0,D.connect)(function(e){var t=e.exper,a=e.loading;return{exper:t,loading:a.models.exper}}),k=g.default.create(),S(w=k(w=function(e){function t(){var e,a;(0,p.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,y.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(n))),a.state={expandForm:!1,selectedRows:[],formValues:{}},a.columns=[{title:"\u5b9e\u9a8c\u7f16\u53f7",dataIndex:"id",align:"center",render:function(e,t){return x.default.createElement(x.Fragment,null,x.default.createElement("a",{onClick:function(){return a.showModal()}},t.id))}},{title:"\u6848\u4f8b\u7f16\u53f7",dataIndex:"case_number",align:"center"},{title:"\u59d4\u6258\u4eba",dataIndex:"client",align:"center"},{title:"\u5b9e\u9a8c\u6570\u636e",dataIndex:"experimental",align:"center",render:function(e){var t="".concat(O[e]);return t}},{title:"\u5b9e\u9a8c\u7ed3\u679c",dataIndex:"experResult",align:"center",render:function(e){var t="".concat(T[e]);return t}},{title:"\u786e\u8ba4\u72b6\u6001",dataIndex:"confState",align:"center",render:function(e){var t="".concat(P[e]);return t}}],a.handleStandardTableChange=function(e,t){var l=a.props.dispatch,n=a.state.formValues,r=Object.keys(t).reduce(function(e,a){var l=(0,i.default)({},e);return l[a]=N(t[a]),l},{}),d=(0,i.default)({currentPage:e.current,pageSize:e.pageSize},n,r);l({type:"exper/fetch",payload:d})},a.handleDelete=function(e){var t=a.props.dispatch,l=a.state.selectedRows;if(l){switch(e.key){case"":break;default:t({type:"exper/remove",payload:{key:l.map(function(e){return e.key})},callback:function(){a.setState({selectedRows:[]})}});break}f.default.success("\u5e9f\u9664\u6210\u529f"),a.handleModalVisible()}},a.handleFormReset=function(){var e=a.props,t=e.form,l=e.dispatch;t.resetFields(),a.setState({formValues:{}}),l({type:"exper/fetch",payload:{}})},a.toggleForm=function(){var e=a.state.expandForm;a.setState({expandForm:!e})},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleSearch=function(e){e.preventDefault();var t=a.props,l=t.dispatch,n=t.form;n.validateFields(function(e,t){if(!e){var n=(0,i.default)({},t,{updatedAt:t.updatedAt&&t.updatedAt.valueOf()});a.setState({formValues:n}),l({type:"exper/fetch",payload:n})}})},a.showConfirm=function(){var e=a.props.dispatch,t=a.state.selectedRows,l="\u60a8\u5c06\u5220\u9664\u5b9e\u9a8c\u7f16\u53f7\u4e3a   ",n="    \u7684\u6570\u636e\uff01",r=t.map(function(e){return e.case_number}),d=l+r+n;t&&R({title:"\u786e\u5b9a\u8981\u5220\u9664\u6570\u636e\u5417?",content:d,onOk:function(){e({type:"exper/remove",payload:{key:t.map(function(e){return e.key})}}),f.default.success("\u5220\u9664\u6210\u529f")},onCancel:function(){}})},a.showConfirms=function(){var e=a.props.dispatch,t=a.state.selectedRows,l="\u60a8\u5c06\u4fee\u6539\u5b9e\u9a8c\u7f16\u53f7\u4e3a   ",n="    \u7684\u6570\u636e\uff01",r=t.map(function(e){return e.case_number}),d=l+r+n;t&&R({title:"\u786e\u5b9a\u8981\u4fee\u6539\u6570\u636e\u72b6\u6001\u5417?",content:d,onOk:function(){e({type:"exper/update",payload:{key:t.map(function(e){return e.key}),confState:"0"}}),f.default.success("\u4fee\u6539\u6210\u529f")},onCancel:function(){}})},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(){a.setState({visible:!1,confirmLoading:!1})},a.handleCancel=function(){a.setState({visible:!1,confirmLoading:!1})},a.handleAdd=function(e){var t=a.props.dispatch;t({type:"mana/add",payload:{id:e.id,reagent:e.reagent,appraiser:e.appraiser,experimental:e.experimental,fileStatus:e.fileStatus}}),f.default.success("\u6dfb\u52a0\u6210\u529f"),a.handleModalVisible()},a}return(0,E.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"exper/fetch"})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return x.default.createElement(g.default,{onSubmit:this.handleSearch,layout:"inline"},x.default.createElement(o.default,{gutter:{md:8,lg:24,xl:48}},x.default.createElement(s.default,{md:8,sm:24},x.default.createElement(K,{label:"\u5b9e\u9a8c\u7f16\u53f7"},e("id")(x.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u5b9e\u9a8c\u7f16\u53f7"})))),x.default.createElement(s.default,{md:8,sm:24},x.default.createElement(K,{label:"\u6848\u4f8b\u7f16\u53f7"},e("case_number")(x.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u6848\u4f8b\u7f16\u53f7"})))),x.default.createElement(s.default,{md:8,sm:24},x.default.createElement("span",{className:L.default.submitButtons},x.default.createElement(c.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),x.default.createElement(c.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),x.default.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u5c55\u5f00 ",x.default.createElement(u.default,{type:"down"}))))))}},{key:"renderAdvancedForm",value:function(){var e=this.props.form.getFieldDecorator;return x.default.createElement(g.default,{onSubmit:this.handleSearch,layout:"inline"},x.default.createElement(o.default,{gutter:{md:8,lg:24,xl:48}},x.default.createElement(s.default,{md:8,sm:24},x.default.createElement(K,{label:"\u5b9e\u9a8c\u7f16\u53f7"},e("id")(x.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u5b9e\u9a8c\u7f16\u53f7"})))),x.default.createElement(s.default,{md:8,sm:24},x.default.createElement(K,{label:"\u6848\u4f8b\u7f16\u53f7"},e("case_number")(x.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u6848\u4f8b\u7f16\u53f7"})))),x.default.createElement(s.default,{md:8,sm:24},x.default.createElement(K,{label:"\xa0\xa0\xa0\u59d4\u6258\u4eba"},e("client")(x.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u59d4\u6258\u4eba"})))),x.default.createElement(s.default,{md:8,sm:24},x.default.createElement(K,{label:"\u5b9e\u9a8c\u6570\u636e"},e("experimental")(x.default.createElement(C.default,{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9",style:{width:"10,100%"}},x.default.createElement(I,{value:"0"},"\u672a\u4e0a\u4f20"),x.default.createElement(I,{value:"1"},"\u5df2\u4e0a\u4f20"),x.default.createElement(I,{value:"2"},"\u90e8\u5206\u4e0a\u4f20"))))),x.default.createElement(s.default,{md:8,sm:24},x.default.createElement(K,{label:"\u5b9e\u9a8c\u7ed3\u679c"},e("experResult")(x.default.createElement(C.default,{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9",style:{width:"10,100%"}},x.default.createElement(I,{value:"0"},"\u80af\u5b9a"),x.default.createElement(I,{value:"1"},"\u5426\u5b9a"),x.default.createElement(I,{value:"2"},"\u9700\u52a0\u4f4d\u70b9"),x.default.createElement(I,{value:"3"},"\u68c0\u6d4b\u4e0d\u51fa\u7ed3\u679c"))))),x.default.createElement(s.default,{md:8,sm:24},x.default.createElement(K,{label:"\u786e\u8ba4\u72b6\u6001"},e("confState")(x.default.createElement(C.default,{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9",style:{width:"10,100%"}},x.default.createElement(I,{value:"0"},"\u5df2\u786e\u8ba4"),x.default.createElement(I,{value:"1"},"\u5f85\u786e\u8ba4")))))),x.default.createElement("div",{style:{overflow:"hidden"}},x.default.createElement("div",{style:{float:"right",marginBottom:24}},x.default.createElement(c.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),x.default.createElement(c.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),x.default.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u6536\u8d77 ",x.default.createElement(u.default,{type:"up"})))))}},{key:"renderForm",value:function(){var e=this.state.expandForm;return e?this.renderAdvancedForm():this.renderSimpleForm()}},{key:"render",value:function(){var e=this.props,t=e.exper.data,a=e.loading,l=this.state,n=l.selectedRows,o=l.visible,u=l.confirmLoading,s=[];s.push({title:"\u57fa\u56e0\u4f4d\u70b9",className:"Allele",dataIndex:"Allele",key:"Allele",width:150},{title:"\u7236\u4eb2",dataIndex:"Commentf",className:"Commentf",key:"Commentf",width:150},{title:"\u5b69\u5b50",dataIndex:"Comments",className:"Comments",key:"Comments",width:150});var m=[];return m.push({key:"D001",Allele:"vWA    B",Commentf:"16,16",Comments:"16,16"},{key:"D002",Allele:"D7S820  B",Commentf:"10,10",Comments:"16,16"},{key:"D003",Allele:"D7S820  C",Commentf:"10,10",Comments:"16,16"},{key:"D004",Allele:"D7S820  D",Commentf:"10,10",Comments:"16,16"},{key:"D005",Allele:"D7S820  E",Commentf:"10,10",Comments:"16,16"},{key:"D006",Allele:"D7S820  F",Commentf:"10,10",Comments:"16,16"},{key:"D007",Allele:"D7S820  G",Commentf:"10,10",Comments:"16,16"},{key:"D008",Allele:"D7S820  H",Commentf:"10,10",Comments:"16,16"},{key:"D009",Allele:"D7S820  I",Commentf:"10,10",Comments:"16,16"},{key:"D0010",Allele:"D7S820  J",Commentf:"10,10",Comments:"16,16"},{key:"D0011",Allele:"D7S820  K",Commentf:"10,10",Comments:"16,16"},{key:"D0012",Allele:"D7S820  L",Commentf:"10,10",Comments:"16,16"},{key:"D0013",Allele:"D7S820  M",Commentf:"10,10",Comments:"16,16"},{key:"D0014",Allele:"D7S820  N",Commentf:"10,10",Comments:"16,16"},{key:"D0015",Allele:"D7S820  O",Commentf:"10,10",Comments:"16,16"},{key:"D0016",Allele:"D7S820  P",Commentf:"10,10",Comments:"16,16"}),x.default.createElement(F.default,{title:"\u5b9e\u9a8c\u6570\u636e"},x.default.createElement(r.default,{bordered:!1},x.default.createElement("div",{className:L.default.tableList},x.default.createElement("div",{className:L.default.tableListForm},this.renderForm()),x.default.createElement("div",{className:L.default.tableListOperator},x.default.createElement("span",null,x.default.createElement(c.default,{onClick:this.showModal,disabled:0===n.length||n.length>1},"\u67e5\u770b\u5b9e\u9a8c\u6570\u636e"),x.default.createElement(c.default,{onClick:this.showConfirms,disabled:0===n.length},"\u786e\u8ba4\u5426\u5b9a\u7ed3\u679c"),x.default.createElement(c.default,{type:"danger",onClick:this.showConfirm,disabled:0===n.length},"\u5220\u9664\u5b9e\u9a8c\u6570\u636e")),x.default.createElement(b.default,{width:"50%",title:"\u67e5\u770b\u6570\u636e",visible:o,onOk:this.handleOk,confirmLoading:u,onCancel:this.handleCancel},x.default.createElement(d.default,{columns:s,dataSource:m,bordered:!0,align:"center",pagination:!1,scroll:{y:350},showHeader:!0}),",")),x.default.createElement(A.default,{selectedRows:n,loading:a,data:t,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))))}}]),t}(x.PureComponent))||w)||w),M=z;t.default=M}}]);