(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[64],{Q0aF:function(e,t,a){"use strict";var l=a("xK3H"),n=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fhlT");var r=l(a("kXZy"));a("fThj");var d=l(a("cYEd"));a("khen");var u=l(a("3J+T"));a("1pPU");var s=l(a("KjZ1"));a("Ktq0");var o=l(a("fL5V")),i=l(a("8g53"));a("wyr4");var f=l(a("NEb+"));a("/26P");var c=l(a("aYvq"));a("mKhK");var m=l(a("iW5v")),p=l(a("dnxz"));a("Lzml");var h=l(a("vpm+")),g=l(a("SeLb")),y=l(a("Sx57")),v=l(a("4zp0")),b=l(a("iVWQ")),E=l(a("lF+r")),w=l(a("PApH"));a("GvWx");var U=l(a("MSoP"));a("/MhY");var I=l(a("w0+5")),C=l(a("aG3W"));a("49Cq");var S=l(a("/OG3"));a("XFd2");var V=l(a("33fr"));a("E2ON");var k=l(a("jjSt"));a("Q3sr");var R,F,x,M,N,D,L,q=l(a("9NP+")),O=n(a("zLBQ")),P=a("LneV"),j=l(a("CkN6")),K=l(a("zHco")),A=l(a("0Wp1")),J=q.default.Item,Y=k.default.Option,z=V.default.confirm,H=S.default.Group,Q=q.default.create()(function(e){var t=function(e){if(null!==e){var t=(0,C.default)(Array.from(new Set(JSON.parse(e)))),a={},l=[];for(var n in t)t[n].key=n,t[n].value=t[n].id,t[n].title=t[n].name,a[t[n].id]=t[n];for(var r in a)a[r].parentId&&a[a[r].parentId]?(null===a[a[r].parentId]||a[a[r].parentId].children||(a[a[r].parentId].children=new Array),a[a[r].parentId].children.push(a[r])):l.push(a[r]);return l}},a=e.modalVisible,l=e.form,n=e.handleAdd,r=e.Reagent,d=e.handleModalVisible,u=e.role,s=function(){l.validateFields(function(e,t){e||(l.resetFields(),n(t))})};return O.default.createElement(V.default,{destroyOnClose:!0,title:"\u6dfb\u52a0\u7528\u6237\u4fe1\u606f",visible:a,onOk:s,onCancel:function(){return d()}},O.default.createElement(J,{labelCol:{span:5},wrapperCol:{span:15},label:"\u767b\u5f55\u540d\u79f0"},l.getFieldDecorator("loginName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u767b\u5f55\u540d\u79f0\uff01"}]})(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u540d\u79f0"}))),O.default.createElement(J,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7528\u6237\u6635\u79f0"},l.getFieldDecorator("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0\uff01"}]})(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0"}))),O.default.createElement(J,{labelCol:{span:5},wrapperCol:{span:15},label:"\u8054\u7cfb\u65b9\u5f0f"},l.getFieldDecorator("phone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f\uff01"}]})(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f"}))),O.default.createElement(J,{labelCol:{span:5},wrapperCol:{span:15},label:"\u662f\u5426\u542f\u7528"},l.getFieldDecorator("enabled",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u542f\u7528\uff01"}]})(O.default.createElement(H,{name:"enabled",initialValue:1},O.default.createElement(S.default,{value:1},"\u662f"),O.default.createElement(S.default,{value:0},"\u5426")))),O.default.createElement(J,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7528\u6237\u90ae\u7bb1"},l.getFieldDecorator("email",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u7528\u6237\u90ae\u7bb1\uff01"}]})(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u90ae\u7bb1"}))),O.default.createElement(J,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6240\u5728\u90e8\u95e8"},l.getFieldDecorator("deptIds",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6240\u5728\u90e8\u95e8\uff01"}]})(O.default.createElement(U.default,{style:{width:300},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:t(JSON.stringify(r)),placeholder:"\u6240\u5728\u90e8\u95e8"}))),O.default.createElement(J,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7528\u6237\u89d2\u8272"},l.getFieldDecorator("roleIds",{rules:[{required:!0,message:"\u53ef\u591a\u9009\uff01"}]})(O.default.createElement(k.default,{mode:"multiple",style:{width:"100%"},placeholder:"\u591a\u9009\u6846"},u.map(function(e){return O.default.createElement(Y,{key:e.id},e.name)})))))}),T=(R=q.default.create(),R(F=function(e){function t(e){var a;return(0,y.default)(this,t),a=(0,b.default)(this,(0,E.default)(t).call(this,e)),a.handleNext=function(){var e=a.props,t=e.form,l=e.handleUpdate,n=a.state.formVals;t.validateFields(function(e,t){if(!e){var a=(0,g.default)({},n,t);l(a)}})},a.renderFooter=function(){var e=a.props.handleUpdateModalVisible;return[O.default.createElement(h.default,{key:"cancel",onClick:function(){return e()}},"\u53d6\u6d88"),O.default.createElement(h.default,{key:"submit",type:"primary",onClick:function(){return a.handleNext()}},"\u5b8c\u6210")]},a.state={formVals:(0,g.default)({},e.values)},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a}return(0,w.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=function(e){if(null!==e){var t=(0,C.default)(Array.from(new Set(JSON.parse(e)))),a={},l=[];for(var n in t)t[n].key=n-1,t[n].value=t[n].id,t[n].title=t[n].name,a[t[n].id]=t[n];for(var r in a)a[r].parentId&&a[a[r].parentId]?(null===a[a[r].parentId]||a[a[r].parentId].children||(a[a[r].parentId].children=new Array),a[a[r].parentId].children.push(a[r])):l.push(a[r]);return l}},t=this.props,a=t.form.getFieldDecorator,l=t.updateModalVisible,n=t.handleUpdateModalVisible,r=t.role,d=t.Reagent,u=this.state.formVals;return O.default.createElement(V.default,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u4fee\u6539\u7528\u6237\u4fe1\u606f",visible:l,footer:this.renderFooter(),onCancel:function(){return n()}},O.default.createElement(J,(0,p.default)({key:"loginName"},this.formLayout,{label:"\u767b\u5f55\u8d26\u53f7"}),a("loginName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u767b\u5f55\u8d26\u53f7\uff01"}],initialValue:u.loginName})(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u8d26\u53f7"}))),O.default.createElement(J,(0,p.default)({key:"name"},this.formLayout,{label:"\u7528\u6237\u59d3\u540d"}),a("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u59d3\u540d"}],initialValue:u.name})(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u59d3\u540d"}))),O.default.createElement(J,(0,p.default)({key:"phone"},this.formLayout,{label:"\u8054\u7cfb\u65b9\u5f0f"}),a("phone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f\uff01"}],initialValue:u.phone})(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f"}))),O.default.createElement(J,(0,p.default)({key:"enabled"},this.formLayout,{label:"\u662f\u5426\u542f\u7528"}),a("enabled",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u542f\u7528\uff01"}],initialValue:u.enabled})(O.default.createElement(H,{name:"enabled"},O.default.createElement(S.default,{value:1},"\u662f"),O.default.createElement(S.default,{value:0},"\u5426")))),O.default.createElement(J,(0,p.default)({key:"email"},this.formLayout,{label:"\u7528\u6237\u90ae\u7bb1"}),a("email",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u90ae\u7bb1"}],initialValue:u.email})(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u90ae\u7bb1"}))),O.default.createElement(J,(0,p.default)({key:"deptIds"},this.formLayout,{label:"\u6240\u5728\u90e8\u95e8"}),a("deptIds",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6240\u5728\u90e8\u95e8"}],initialValue:u.deptIds})(O.default.createElement(U.default,{style:{width:300},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:e(JSON.stringify(d)),placeholder:"\u6240\u5728\u90e8\u95e8"}))),O.default.createElement(J,(0,p.default)({key:"roleIds"},this.formLayout,{label:"\u7528\u6237\u89d2\u8272"}),a("roleIds",{rules:[{required:!0,message:"\u53ef\u591a\u9009"}],initialValue:u.roleIds})(O.default.createElement(k.default,{mode:"multiple",style:{width:"100%"},placeholder:"\u591a\u9009\u6846"},r.map(function(e){return O.default.createElement(Y,{key:e.id,value:e.id},e.name)})))))}}]),t}(O.PureComponent))||F),W=(x=q.default.create(),x(M=function(e){function t(e){var a;return(0,y.default)(this,t),a=(0,b.default)(this,(0,E.default)(t).call(this,e)),a.handleNext=function(){var e=a.props,t=e.form,l=e.handleUpdates,n=a.state,r=n.formVals,d=n.selectedRowKeys;t.validateFields(function(e,t){if(!e){var a=(0,g.default)({},r,t,{selectedRowKeys:d});l(a)}})},a.renderFooter=function(){var e=a.props.handleUpdateModalVisibles;return[O.default.createElement(h.default,{key:"cancel",onClick:function(){return e()}},"\u53d6\u6d88"),O.default.createElement(h.default,{key:"submit",type:"primary",onClick:function(){return a.handleNext()}},"\u5b8c\u6210")]},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.state={formVals:(0,g.default)({},e.values),selectedRowKeys:e.values.roleIds},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a}return(0,w.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.updateModalVisibles,l=e.handleUpdateModalVisibles,n=e.role,r=this.state,d=r.formVals,u=r.selectedRowKeys,s=[{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u89d2\u8272\u7f16\u7801",dataIndex:"code",key:"code"}],o={selectedRowKeys:u,onChange:this.onSelectChange};return O.default.createElement(V.default,{width:800,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u5206\u914d\u89d2\u8272\u4fe1\u606f",visible:a,footer:this.renderFooter(),onCancel:function(){return l()}},O.default.createElement(c.default,{gutter:{md:8,lg:24,xl:48}},O.default.createElement(m.default,{md:12,sm:24},O.default.createElement(J,(0,p.default)({key:"loginName"},this.formLayout,{label:"\u767b\u5f55\u540d\u79f0"}),t("loginName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u767b\u5f55\u540d\u79f0\uff01"}],initialValue:d.loginName})(O.default.createElement(I.default,{disabled:!0})))),O.default.createElement(m.default,{md:12,sm:24},O.default.createElement(J,(0,p.default)({key:"name"},this.formLayout,{label:"\u7528\u6237\u6635\u79f0"}),t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0\uff01"}],initialValue:d.name})(O.default.createElement(I.default,{disabled:!0}))))),O.default.createElement(f.default,{rowKey:"id",rowSelection:o,columns:s,dataSource:n}))}}]),t}(O.PureComponent))||M),G=(N=(0,P.connect)(function(e){var t=e.manageUser,a=e.role,l=e.loading;return{role:a,manageUser:t,loading:l.models.manageUser}}),D=q.default.create(),N(L=D(L=function(e){function t(){var e,a;(0,y.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,b.default)(this,(e=(0,E.default)(t)).call.apply(e,[this].concat(n))),a.state={modalVisible:!1,expandForm:!1,selectedRows:[]},a.handleUpdateModalVisible=function(e,t){a.setState({updateModalVisible:!!e,stepFormValues:t||{}})},a.handleUpdateModalVisibles=function(e,t){a.setState({updateModalVisibles:!!e,stepFormValues:t||{}});var l=a.props.dispatch;l({type:"manageUser/fetchUserDept"}),l({type:"manageUser/fetchUserRole"}),l({type:"manageUser/fetchReagent"}),l({type:"manageUser/fetchRoles"})},a.handleFormReset=function(){var e=a.props,t=e.form,l=e.dispatch;t.resetFields(),l({type:"manageUser/fetch",payload:{}})},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleForm=function(){var e=a.props,t=e.dispatch,l=e.form;l.validateFields(function(e,a){if(!e){var l=(0,g.default)({},a,{ExperDate:a.ExperDate&&a.ExperDate.format("YYYY-MM-DD")});t({type:"manageUser/fetch",payload:l})}})},a.handleSearch=function(e){e.preventDefault(),a.handleForm()},a.handleSearchs=function(){a.handleForm()},a.handleAdd=function(e){for(var t=(0,i.default)((0,i.default)(a)),l=a.props.dispatch,n=[],r=0;r<e.roleIds.length;r+=1)n.push(e.roleIds[r]);var d=[];d.push(e.deptIds);var u=(0,g.default)({},e,{enabled:parseInt(e.enabled,10),roleId:n,deptId:d,password:888888});new Promise(function(e,t){l({type:"manageUser/add",payload:(0,g.default)({},u,{resolve:e,reject:t})})}).then(function(e){null!==e&&(o.default.success("\u6dfb\u52a0\u6210\u529f"),t.handleSearchs(),l({type:"manageUser/fetchUserDept"}),l({type:"manageUser/fetchUserRole"}),l({type:"manageUser/fetchReagent"}),l({type:"manageUser/fetchRoles"}))}),t.handleModalVisible()},a.handleUpdate=function(e){var t=a.props.dispatch,l=(0,i.default)((0,i.default)(a)),n=[];if(void 0!==e.roleIds.length)for(var r=0;r<e.roleIds.length;r+=1)n.push(e.roleIds[r]);else n.push(e.roleIds);var d=[];d.push(e.deptIds);var u=(0,g.default)({},e,{enabled:parseInt(e.enabled,10),roleId:n,deptId:d});new Promise(function(e,a){t({type:"manageUser/update",payload:(0,g.default)({},u,{resolve:e,reject:a})})}).then(function(e){null!==e&&(t({type:"manageUser/fetchUserDept"}),t({type:"manageUser/fetchUserRole"}),t({type:"manageUser/fetchReagent"}),t({type:"manageUser/fetchRoles"}),o.default.success("\u4fee\u6539\u6210\u529f"),l.handleSearchs())}),l.handleUpdateModalVisible()},a.handleUpdates=function(e){var t=a.props.dispatch,l=(0,i.default)((0,i.default)(a)),n=[];n.push(e.deptIds);for(var r=[],d=0;d<e.selectedRowKeys.length;d+=1)r.push(e.selectedRowKeys[d]);var u=(0,g.default)({},e,{enabled:parseInt(e.enabled,10),roleId:r,deptId:n});new Promise(function(e,a){t({type:"manageUser/update",payload:(0,g.default)({},u,{resolve:e,reject:a})})}).then(function(e){null!==e&&(t({type:"manageUser/fetchUserDept"}),t({type:"manageUser/fetchUserRole"}),t({type:"manageUser/fetchReagent"}),t({type:"manageUser/fetchRoles"}),o.default.success("\u4fee\u6539\u6210\u529f"),l.handleSearchs())}),l.handleUpdateModalVisible()},a.toggleForm=function(){var e=a.state.expandForm;a.setState({expandForm:!e})},a.showConfirms=function(){var e=a.props.dispatch,t=a.state.selectedRows,l=(0,i.default)((0,i.default)(a)),n="\u60a8\u5c06\u505c\u7528\u767b\u5f55\u540d\u79f0\u4e3a",r="    \u7684\u7528\u6237\u4fe1\u606f\uff01";if(t){for(var d=[],u=[],s=t.map(function(e){return e.loginName}),f=t.map(function(e){return e.id}),c=t.map(function(e){return e.enabled}),m=0;m<c.length;m+=1)parseInt(c[m],10)===parseInt(1,10)&&(d.push(s[m]),u.push(f[m]));var p=n+d+r;z({title:"\u786e\u5b9a\u8981\u505c\u7528\u6570\u636e\u72b6\u6001\u5417?",content:p,onOk:function(){new Promise(function(t,a){e({type:"manageUser/updateStatus",payload:{ids:u,enabled:parseInt(0,10),resolve:t,reject:a}})}).then(function(e){!0===e&&(l.handleSearchs(),o.default.success("\u505c\u7528\u6210\u529f"))}),l.setState({selectedRows:[]})},onCancel:function(){}})}},a.showEnabled=function(){var e=a.props.dispatch,t=a.state.selectedRows,l=(0,i.default)((0,i.default)(a)),n="\u60a8\u5c06\u542f\u7528\u767b\u5f55\u540d\u79f0\u4e3a",r="    \u7684\u7528\u6237\u4fe1\u606f\uff01";if(t){for(var d=[],u=[],s=t.map(function(e){return e.loginName}),f=t.map(function(e){return e.id}),c=t.map(function(e){return e.enabled}),m=0;m<c.length;m+=1)parseInt(c[m],10)===parseInt(0,10)&&(d.push(s[m]),u.push(f[m]));var p=n+d+r;z({title:"\u786e\u5b9a\u8981\u542f\u7528\u6570\u636e\u72b6\u6001\u5417?",content:p,onOk:function(){new Promise(function(t,a){e({type:"manageUser/updateStatus",payload:{ids:u,enabled:parseInt(1,10),resolve:t,reject:a}})}).then(function(e){!0===e&&(l.handleSearchs(),o.default.success("\u542f\u7528\u6210\u529f"))}),l.setState({selectedRows:[]})},onCancel:function(){}})}},a.deleteConfirms=function(){var e=a.props.dispatch,t=a.state.selectedRows,l=(0,i.default)((0,i.default)(a)),n="\u60a8\u5c06\u5220\u9664\u767b\u5f55\u540d\u79f0\u4e3a",r="    \u7684\u7528\u6237\u4fe1\u606f\uff01",d=t.map(function(e){return e.loginName}),u=n+d+r,s=t.map(function(e){return e.id});t&&z({title:"\u786e\u5b9a\u8981\u5220\u9664\u6570\u636e\u5417?",content:u,onOk:function(){new Promise(function(t,a){e({type:"manageUser/remove",payload:{ids:s,resolve:t,reject:a}})}).then(function(e){null!==e&&l.handleSearchs()}),o.default.success("\u5220\u9664\u6210\u529f"),l.setState({selectedRows:[]})},onCancel:function(){}})},a.resetConfirms=function(){var e=a.props.dispatch,t=a.state.selectedRows,l=(0,i.default)((0,i.default)(a)),n="\u60a8\u5c06\u4fee\u6539\u767b\u5f55\u540d\u79f0\u4e3a",r="    \u7684\u7528\u6237\u5bc6\u7801\uff01",d=t.map(function(e){return e.loginName}),u=t.map(function(e){return e.id}),s=n+d+r;t&&z({title:"\u786e\u5b9a\u8981\u4fee\u6539\u5bc6\u7801\u5417?",content:s,onOk:function(){new Promise(function(t,a){e({type:"manageUser/updatePass",payload:{ids:u,password:888888,resolve:t,reject:a}})}).then(function(e){!0===e&&(l.handleSearchs(),o.default.success("\u4fee\u6539\u6210\u529f\uff0c\u521d\u59cb\u5bc6\u7801\u4e3a888888"))}),l.setState({selectedRows:[]})},onCancel:function(){}})},a}return(0,w.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"manageUser/fetch"}),e({type:"manageUser/fetchUserDept"}),e({type:"manageUser/fetchUserRole"}),e({type:"manageUser/fetchReagent"}),e({type:"manageUser/fetchRoles"})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return O.default.createElement(q.default,{onSubmit:this.handleSearch,layout:"inline"},O.default.createElement(c.default,{gutter:{md:8,lg:24,xl:48}},O.default.createElement(m.default,{md:8,sm:24},O.default.createElement(J,{label:"\u767b\u5f55\u540d\u79f0"},e("loginName")(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u540d\u79f0"})))),O.default.createElement(m.default,{md:8,sm:24},O.default.createElement(J,{label:"\u7528\u6237\u6635\u79f0"},e("name")(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0"})))),O.default.createElement(m.default,{md:8,sm:24},O.default.createElement("span",{className:A.default.submitButtons},O.default.createElement(h.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),O.default.createElement(h.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),O.default.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u5c55\u5f00 ",O.default.createElement(s.default,{type:"down"}))))))}},{key:"renderAdvancedForm",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.manageUser,l=(a.confState,a.fileStatuss);a.Reagent;return O.default.createElement(q.default,{onSubmit:this.handleSearch,layout:"inline"},O.default.createElement(c.default,{gutter:{md:8,lg:24,xl:48}},O.default.createElement(m.default,{md:8,sm:24},O.default.createElement(J,{label:"\u767b\u5f55\u540d\u79f0"},t("loginName")(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u540d\u79f0"})))),O.default.createElement(m.default,{md:8,sm:24},O.default.createElement(J,{label:"\u7528\u6237\u6635\u79f0"},t("name")(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0"})))),O.default.createElement(m.default,{md:8,sm:24},O.default.createElement(J,{label:"\u8054\u7cfb\u65b9\u5f0f"},t("phone")(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f"})))),O.default.createElement(m.default,{md:8,sm:24},O.default.createElement(J,{label:"\u662f\u5426\u542f\u7528"},t("enabled")(O.default.createElement(k.default,{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u662f\u5426\u542f\u7528",style:{width:"100%"}},l.map(function(e){return O.default.createElement(Y,{key:e.id},e.experState)}))))),O.default.createElement(m.default,{md:8,sm:24},O.default.createElement(J,{label:"\u7528\u6237\u90ae\u7bb1"},t("email")(O.default.createElement(I.default,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u90ae\u7bb1"}))))),O.default.createElement("div",{style:{overflow:"hidden"}},O.default.createElement("div",{style:{float:"right",marginBottom:24}},O.default.createElement(h.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),O.default.createElement(h.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),O.default.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u6536\u8d77 ",O.default.createElement(s.default,{type:"up"})))))}},{key:"renderForm",value:function(){var e=this.state.expandForm;return e?this.renderAdvancedForm():this.renderSimpleForm()}},{key:"render",value:function(){var e=this,t=this.props,a=t.manageUser,l=a.data,n=a.role,o=a.confState,i=a.Reagent,f=a.fileStatuss,c=a.userRole,m=a.userDept,g=t.loading,y={handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible},v={handleUpdateModalVisible:this.handleUpdateModalVisible,handleUpdate:this.handleUpdate},b={handleUpdateModalVisibles:this.handleUpdateModalVisibles,handleUpdates:this.handleUpdates},E=this.state,w=E.selectedRows,U=E.modalVisible,I=E.stepFormValues,C=E.updateModalVisible,S=E.updateModalVisibles,V=[{title:"\u767b\u5f55\u540d\u79f0",dataIndex:"loginName"},{title:"\u7528\u6237\u6635\u79f0",dataIndex:"name"},{title:"\u8054\u7cfb\u65b9\u5f0f",dataIndex:"phone"},{title:"\u662f\u5426\u542f\u7528",dataIndex:"enabled",width:150,render:function(e){if(f.length>0){var t=f.filter(function(t){return parseInt(t.id,10)===parseInt(e,10)});return t.length>0?t[0].experState:e}return e}},{title:"\u7528\u6237\u90ae\u7bb1",dataIndex:"email"},{title:"\u6240\u5728\u90e8\u95e8",dataIndex:"deptIds",render:function(e,t){if(m.length>0){var a=m.filter(function(e){return e.userId===t.id});if(void 0!==a[0]){var l=function(){for(var l=a[0].deptId,n=0;n<i.length;n+=1){var r=i.filter(function(e){return e.id===l});return t.deptIds=l,{v:r.length>0?r[0].name:e}}}();if("object"===typeof l)return l.v}}return e}},{title:"\u7528\u6237\u89d2\u8272",dataIndex:"roleIds",render:function(e,t){if(c.length>0){var a=function(){for(var e=c.filter(function(e){return e.userId===t.id}),a=[],l="",r=",",d=0;d<e.length;d+=1)a.push(e[d].roleId);for(var u=function(e){var t=n.filter(function(t){return t.id===a[e]}),d=t.length>0?t[0].name:"";e<a.length-1?l+=d+r:l+=d},s=0;s<a.length;s+=1)u(s);return t.roleIds=a,{v:l}}();if("object"===typeof a)return a.v}return e}},{title:"\u64cd\u4f5c",align:"center",width:"110px",render:function(t,a){return O.default.createElement(O.Fragment,null,O.default.createElement(u.default,{title:"\u4fee\u6539"},O.default.createElement("a",{onClick:function(){return e.handleUpdateModalVisible(!0,a)}},O.default.createElement(s.default,{type:"edit"}))),O.default.createElement(d.default,{type:"vertical"}),O.default.createElement(u.default,{title:"\u5206\u914d\u89d2\u8272"},O.default.createElement("a",{onClick:function(){return e.handleUpdateModalVisibles(!0,a)}},O.default.createElement(s.default,{type:"setting"}))))}}];return O.default.createElement(K.default,{title:"\u7528\u6237\u7ba1\u7406"},O.default.createElement(r.default,{bordered:!1},O.default.createElement("div",{className:A.default.tableList},O.default.createElement("div",{className:A.default.tableListForm},this.renderForm()),O.default.createElement("div",{className:A.default.tableListOperator},O.default.createElement(h.default,{type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"\u6dfb\u52a0\u7528\u6237"),O.default.createElement(h.default,{onClick:this.showConfirms,disabled:!w.filter(function(e){return 1===parseInt(e.enabled,10)}).length>0},"\u505c\u7528\u7528\u6237"),O.default.createElement(h.default,{onClick:this.showEnabled,disabled:!w.filter(function(e){return 0===parseInt(e.enabled,10)}).length>0},"\u542f\u7528\u7528\u6237"),O.default.createElement(h.default,{onClick:this.deleteConfirms,disabled:!w.length>0},"\u5220\u9664\u7528\u6237"),O.default.createElement(h.default,{onClick:this.resetConfirms,disabled:!w.length>0},"\u91cd\u7f6e\u5bc6\u7801")),O.default.createElement(j.default,{rowKey:"id",selectedRows:w,loading:g,data:l,columns:V,onSelectRow:this.handleSelectRows}))),O.default.createElement(Q,(0,p.default)({},y,{modalVisible:U,role:n,confState:o,Reagent:i,fileStatuss:f})),I&&Object.keys(I).length?O.default.createElement(T,(0,p.default)({},v,{Reagent:i,fileStatuss:f,role:n,updateModalVisible:C,values:I})):null,I&&Object.keys(I).length?O.default.createElement(W,(0,p.default)({},b,{role:n,selectedRows:w,updateModalVisibles:S,values:I})):null)}}]),t}(O.PureComponent))||L)||L),B=G;t.default=B}}]);