(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[60],{rjZF:function(t,e,r){"use strict";var a=r("xK3H");Object.defineProperty(e,"__esModule",{value:!0}),e.getDistrict=s,e.save=l,e.updateDistrictByCode=p,e.removeBatch=h,e.forceDelete=w,e.insertDistrict=b,e.selectDistrictByCodeOrName=m,e.selectDistrictChilendByCode=D;var n=a(r("fh3l")),i=a(r("Lnrk")),u=r("Dk/q"),c=a(r("t3Un"));function s(t){return o.apply(this,arguments)}function o(){return o=(0,i.default)(n.default.mark(function t(e){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/spbbase-district-web/api/districts?".concat((0,u.stringify)(e))));case 1:case"end":return t.stop()}},t,this)})),o.apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return d=(0,i.default)(n.default.mark(function t(e){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/spbbase-district-web/api/districts/save?".concat((0,u.stringify)(e)),{method:"POST"}));case 1:case"end":return t.stop()}},t,this)})),d.apply(this,arguments)}function p(t){return f.apply(this,arguments)}function f(){return f=(0,i.default)(n.default.mark(function t(e){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/spbbase-district-web/api/districts?".concat((0,u.stringify)(e)),{method:"PUT"}));case 1:case"end":return t.stop()}},t,this)})),f.apply(this,arguments)}function h(t){return y.apply(this,arguments)}function y(){return y=(0,i.default)(n.default.mark(function t(e){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/spbbase-district-web/api/districts?codes=".concat(e),{method:"DELETE"}));case 1:case"end":return t.stop()}},t,this)})),y.apply(this,arguments)}function w(t){return v.apply(this,arguments)}function v(){return v=(0,i.default)(n.default.mark(function t(e){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/spbbase-district-web/api/districts/enforcement?codes=".concat(e),{method:"DELETE"}));case 1:case"end":return t.stop()}},t,this)})),v.apply(this,arguments)}function b(t){return x.apply(this,arguments)}function x(){return x=(0,i.default)(n.default.mark(function t(e){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/spbbase-authcenter-web/api/District/insertOne?".concat((0,u.stringify)(e))));case 1:case"end":return t.stop()}},t,this)})),x.apply(this,arguments)}function m(t){return g.apply(this,arguments)}function g(){return g=(0,i.default)(n.default.mark(function t(e){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/spbbase-district-web/api/districts?".concat((0,u.stringify)(e))));case 1:case"end":return t.stop()}},t,this)})),g.apply(this,arguments)}function D(t){return k.apply(this,arguments)}function k(){return k=(0,i.default)(n.default.mark(function t(e){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/spbbase-district-web/api/districts?".concat((0,u.stringify)(e))));case 1:case"end":return t.stop()}},t,this)})),k.apply(this,arguments)}},zgb6:function(t,e,r){"use strict";var a=r("xK3H");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r("aG3W")),i=a(r("SeLb")),u=a(r("fh3l")),c=r("rjZF"),s={namespace:"DistrictModel",state:{data:{list:[],total:{}}},effects:{getDistrict:u.default.mark(function t(e,r){var a,n,i,s;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,n=r.call,i=r.put,t.next=4,n(c.getDistrict,a);case 4:return s=t.sent,t.next=7,i({type:"save",payload:s});case 7:case"end":return t.stop()}},t,this)}),checkCode:u.default.mark(function t(e,r){var a,n,i;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,n=r.call,r.put,t.next=4,n(c.getDistrict,a);case 4:i=t.sent,a.resolve(i);case 6:case"end":return t.stop()}},t,this)}),selectDistrictChilendByCode:u.default.mark(function t(e,r){var a,n,i,s;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,n=r.call,i=r.put,t.next=4,n(c.getDistrict,a);case 4:if(s=t.sent,0==s.length){t.next=8;break}return t.next=8,i({type:"add",payload:s});case 8:case"end":return t.stop()}},t,this)}),addDistrict:u.default.mark(function t(e,r){var a,n,i,s;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,n=r.call,i=r.put,t.next=4,n(c.save,a);case 4:if(s=t.sent,void 0===s){t.next=8;break}return t.next=8,i({type:"add",payload:s});case 8:case"end":return t.stop()}},t,this)}),removeBatch:u.default.mark(function t(e,r){var a,n,i;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,n=r.call,i=r.put,t.next=4,n(c.removeBatch,a);case 4:return t.sent,t.next=7,i({type:"remove",payload:a});case 7:case"end":return t.stop()}},t,this)}),forceDelete:u.default.mark(function t(e,r){var a,n,i;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,n=r.call,i=r.put,console.log("model\u5c42\uff1aforceDelete"),t.next=5,n(c.forceDelete,a);case 5:return t.sent,t.next=8,i({type:"ForceDelete",payload:a});case 8:case"end":return t.stop()}},t,this)}),updateDistrictByCode:u.default.mark(function t(e,r){var a,n,i,s;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,n=r.call,i=r.put,t.next=4,n(c.updateDistrictByCode,a);case 4:return s=t.sent,t.next=7,i({type:"update",payload:s});case 7:case"end":return t.stop()}},t,this)})},reducers:{update:function(t,e){var r=t.data,a=r.list.map(function(t){return(0,i.default)({},t)});a.splice(a.findIndex(function(t){return t.code===e.payload.code}),1),a.push(e.payload);var n={list:a,total:a.length};return(0,i.default)({},t,{data:n})},save:function(t,e){var r={list:e.payload,total:e.payload.length};return(0,i.default)({},t,{data:r})},add:function(t,e){var r=t.data,a=r.list.map(function(t){return(0,i.default)({},t)});Array.isArray(e.payload)?a.push.apply(a,(0,n.default)(e.payload)):a.push(e.payload);var u={},c=a.reduce(function(t,e){return!u[e.code]&&(u[e.code]=t.push(e)),t},[]),s={list:c,total:c.length};return(0,i.default)({},t,{data:s})},remove:function(t,e){console.log("+++++++++++++++++++++\u5220\u9664");var r=t.data,a=r.list,n=function(t){a.splice(a.findIndex(function(r){return r.code===e.payload[t].toString()}),1)};for(var u in e.payload)n(u);var c={list:a,total:a.length};return console.log("+++++++++++++++++++++",a),(0,i.default)({},t,{data:c})},ForceDelete:function(t,e){console.log("data");var r=t.data,a=r.list,n=function(t){a.splice(a.findIndex(function(r){return r.code===e.payload[t].toString()}),1);var r=a.filter(function(r){return r.parentCodes.match(new RegExp(e.payload[t].toString()))}),n=function(t){a.splice(a.findIndex(function(e){return e.code===r[t].code}),1)};for(var i in r)n(i)};for(var u in e.payload)n(u);console.log(a);a.length;return(0,i.default)({},t,{data:r})}}};e.default=s}}]);